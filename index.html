<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640">

    <link rel="stylesheet" href="stylesheets/core.css" media="screen">
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
    <link rel="stylesheet" href="stylesheets/github-light.css">

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Creep by 360madden</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/360madden/Creep">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Creep</h1>
            <h2>Teleport BEHIND your Target!</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/360madden/Creep/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/360madden/Creep/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <pre><code>--- 12/26/2015 work in progress. just trying to get the basics working at the moment.
--- 12/29/2015 First rough build now working! 
--- 01/07/2015 Fixed the CCT index nil error, streamlined the UI a bit.

Creep = { }
Creep.lastticks = 0
Creep.running = false
Creep.initialized = false

function Creep.ModuleInit()
    GUI_NewWindow("Creep",300,300,250,160)
    GUI_WindowVisible("Creep",true) 
    GUI_NewField("Creep","Target Name","TName","MainMenu")
    GUI_NewField("Creep","Target Health","CCTHP","MainMenu")
    GUI_NewField("Creep","Target       XYZ: ","TPos","MainMenu")
    GUI_NewField("Creep","    "," ","MainMenu")
    GUI_NewField("Creep","My Position XYZ: ","myposition","MainMenu")
    GUI_NewField("Creep","Distance","TDist","MainMenu")

    GUI_NewButton("Creep","Perform Creep","Creep.Teleport")
    RegisterEventHandler("Creep.Teleport", Creep.func)
end

function Creep.func ( arg ) -- perform the Teleport
    if ( arg == "Creep.Teleport" ) then local CCT = Player:GetTarget()

                if facing == "N" then d(Player:Teleport(CCT.pos.x, CCT.pos.y-90, CCT.pos.z))
                Player:SetFacingExact(CCT.pos.x,CCT.pos.y,CCT.pos.z,true) 
                elseif facing == "S" then d(Player:Teleport(CCT.pos.x, CCT.pos.y+90, CCT.pos.z))
                Player:SetFacingExact(CCT.pos.x,CCT.pos.y,CCT.pos.z,true) 
                elseif facing == "E" then d(Player:Teleport(CCT.pos.x-90, CCT.pos.y, CCT.pos.z)) 
                Player:SetFacingExact(CCT.pos.x,CCT.pos.y,CCT.pos.z,true) 
                elseif facing == "W" then d(Player:Teleport(CCT.pos.x+90, CCT.pos.y, CCT.pos.z))
                Player:SetFacingExact(CCT.pos.x,CCT.pos.y,CCT.pos.z,true) 
                elseif facing == "NE" then d(Player:Teleport(CCT.pos.x-90, CCT.pos.y-90, CCT.pos.z))
                Player:SetFacingExact(CCT.pos.x,CCT.pos.y,CCT.pos.z,true) 
                elseif facing == "NW" then d(Player:Teleport(CCT.pos.x+90, CCT.pos.y-90, CCT.pos.z)) 
                Player:SetFacingExact(CCT.pos.x,CCT.pos.y,CCT.pos.z,true) 
                elseif facing == "SE" then d(Player:Teleport(CCT.pos.x-90, CCT.pos.y+90, CCT.pos.z)) 
                Player:SetFacingExact(CCT.pos.x,CCT.pos.y,CCT.pos.z,true) 
                elseif facing == "SW" then d(Player:Teleport(CCT.pos.x+90, CCT.pos.y+90, CCT.pos.z)) 
                Player:SetFacingExact(CCT.pos.x,CCT.pos.y,CCT.pos.z,true) 
                end
    end
end

function Creep.UpdateWindow() -- show some stats on the target, define some variables, constantly updating with info
            local CCT = Player:GetTarget()
            if CCT ~= nil then  

            TName = tostring(CCT.name)
            CCTHP = tostring(CCT.health.current.." of "..CCT.health.max.." / "..CCT.health.percent.."%")
            TDist = tostring(math.floor(CCT.distance))
            ------------------------------------------------
            TPos = math.floor(CCT.pos.x).." / "..math.floor(CCT.pos.y).." / "..math.floor(CCT.pos.z)
            THead = (math.floor(CCT.pos.hx * 10) / 10).." / "..(math.floor(CCT.pos.hy * 10) / 10).." / "..(math.floor(CCT.pos.hz * 10) / 10)
            ------------------------------------------------
            radians = math.atan2(CCT.pos.hx,CCT.pos.hy)
            degrees = math.deg(radians)
            if degrees &lt; 0 then degrees = 360 + degrees end             
            ------------------------------------------------
            rradians = (math.floor(radians * 100 ) / 100 ) -- Rounded
            rdegrees = (math.floor(degrees * 100 ) / 100 ) -- Rounded
            ------------------------------------------------
            Myself = math.floor(Player.pos.x).." / "..math.floor(Player.pos.y).." / "..math.floor(Player.pos.z)
            myradians = math.atan2(Player.pos.hx,Player.pos.hy)
            mydegrees = math.deg(myradians)
            if mydegrees &lt; 0 then mydegrees = (360 + mydegrees) end             
            ------------------------------------------------
            myrradians = (math.floor(myradians * 100 ) / 100 ) -- Rounded
            myrdegrees = (math.floor(mydegrees * 100 ) / 100 ) -- Rounded
            myposition = math.floor(Player.pos.x).." / "..math.floor(Player.pos.y).." / "..math.floor(Player.pos.z)
            ------------------------------------------------
            facing = Creep.facingdirection()
            myfacing = Creep.myfacingdirection()
    end
end

function Creep.facingdirection()
        if degrees &gt;= -1 and degrees &lt;= 22.5 then return ("N") end
        if degrees &gt;= 337.5 and degrees &lt;= 361 then return ("N") end
        if degrees &gt;= 22.5 and degrees &lt;= 67.5 then return ("NE") end
        if degrees &gt;= 67.5 and degrees &lt;= 112.5 then return ("E") end
        if degrees &gt;= 112.5 and degrees &lt;= 157.5 then return ("SE") end
        if degrees &gt;= 157.5 and degrees &lt;= 202.5 then return ("S") end
        if degrees &gt;= 202.5 and degrees &lt;= 247.5 then return ("SW") end
        if degrees &gt;= 247.5 and degrees &lt;= 292.5 then return ("W") end
        if degrees &gt;= 292.5 and degrees &lt;= 337.5 then return ("NW") end
end

function Creep.myfacingdirection()
        if mydegrees &gt;= -1 and mydegrees &lt;= 22.5 then return ("N") end
        if mydegrees &gt;= 337.5 and mydegrees &lt;= 361 then return ("N") end        
        if mydegrees &gt;= 22.5 and mydegrees &lt;= 67.5 then return ("NE") end
        if mydegrees &gt;= 67.5 and mydegrees &lt;= 112.5 then return ("E") end
        if mydegrees &gt;= 112.5 and mydegrees &lt;= 157.5 then return ("SE") end
        if mydegrees &gt;= 157.5 and mydegrees &lt;= 202.5 then return ("S") end
        if mydegrees &gt;= 202.5 and mydegrees &lt;= 247.5 then return ("SW") end
        if mydegrees &gt;= 247.5 and mydegrees &lt;= 292.5 then return ("W") end
        if mydegrees &gt;= 292.5 and mydegrees &lt;= 337.5 then return ("NW") end 
end

function Creep.OnUpdateHandler( Event, ticks )          
    Creep.UpdateWindow()
end

RegisterEventHandler("Module.Initalize",Creep.ModuleInit)
RegisterEventHandler("Gameloop.Update", Creep.OnUpdateHandler)
RegisterEventHandler("GUI.Update",Creep.GUIVarUpdate)
</code></pre>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/360madden">360madden</a> can be found on <a href="https://github.com/360madden/Creep">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="https://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

    
  </body>
</html>
